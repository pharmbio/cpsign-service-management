{
  "pipeline": {
    "name": "LogD-training"
  },
  "transform": {
    "image": "snapple49/cpsign-docker:latest",
    "cmd": [ "/bin/bash" ],
    "stdin": [
      "mkdir -p /pfs/out/logs",
      "touch /pfs/out/logs/stdout.txt",
      "java -jar -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap cpsign-0.7.7.jar train --license /mnt/lic/license @/pfs/input/params.txt > /pfs/out/logs/stdout.txt"
    ],
    "secrets": [
      {
        "name": "logd-license",
        "mount_path": "/mnt/lic/"
      }
    ]
  },
  "standby": true,
  "resource_limits": {
    "memory": "16G",
    "cpu": 2
  },
  "resource_requests": {
      "memory" : "8G",
      "cpu": 1
  },
  "input" : {
    "atom": {
      "repo": "LogD-ingestion",
      "glob": "/"
    }
  }
}